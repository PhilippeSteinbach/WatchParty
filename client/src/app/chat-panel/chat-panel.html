<div class="chat-panel">
  <h3>Chat</h3>

  <div class="messages" #scrollContainer>
    @for (msg of messages(); track msg.id) {
      <app-chat-message
        [message]="msg"
        (reactionSelected)="onReaction($event)"
      />
    } @empty {
      <div class="empty-chat">No messages yet. Say hi! ðŸ‘‹</div>
    }
  </div>

  <div class="emoji-bar">
    @for (emoji of emojis; track emoji) {
      <button
        type="button"
        class="emoji-btn"
        (click)="insertEmoji(emoji)"
        [attr.aria-label]="'Insert ' + emoji"
      >
        {{ emoji }}
      </button>
    }
  </div>

  <form class="chat-input" (ngSubmit)="sendMessage()">
    <input
      type="text"
      placeholder="Type a messageâ€¦"
      [ngModel]="messageInput()"
      (ngModelChange)="messageInput.set($event)"
      name="chatMessage"
      [maxlength]="MAX_LENGTH"
      aria-label="Chat message"
    />
    <button
      type="submit"
      [disabled]="!messageInput().trim()"
      aria-label="Send message"
    >
      Send
    </button>
  </form>
</div>
