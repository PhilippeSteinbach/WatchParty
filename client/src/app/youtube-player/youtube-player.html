<div class="youtube-wrapper">
  <div #playerContainer></div>

  @if (videoUrl()) {
    <div
      class="click-overlay"
      [class.initial]="!videoEverStarted()"
      [class.has-content]="showOverlayContent()"
      (click)="onOverlayClick()"
    >
      @if (!videoEverStarted() || showOverlayContent()) {
        <div class="play-icon" aria-hidden="true">▶</div>
      }

      @if (showOverlayContent() && recommendations().length > 0) {
        <div class="recommendations" (click)="$event.stopPropagation()">
          <h3 class="rec-heading">Vorschläge</h3>
          <div class="rec-list">
            @for (rec of recommendations(); track rec.videoId) {
              <div class="rec-card">
                <div class="rec-thumb">
                  <img [src]="rec.thumbnailUrl" [alt]="rec.title" />
                  @if (rec.durationSeconds) {
                    <span class="rec-duration">{{ formatDuration(rec.durationSeconds) }}</span>
                  }
                </div>
                <div class="rec-info">
                  <span class="rec-title">{{ rec.title }}</span>
                  <span class="rec-channel">{{ rec.channelName }}</span>
                </div>
                <div class="rec-actions">
                  <button class="rec-play" title="Abspielen" (click)="onPlayRec(rec)">▶</button>
                  <button class="rec-queue" title="Zur Playlist hinzufügen" (click)="onQueueRec(rec)">+</button>
                </div>
              </div>
            }
          </div>
        </div>
      }
    </div>
  }
</div>
